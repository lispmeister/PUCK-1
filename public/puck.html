<!DOCTYPE html>
<html lang="en">
  <head>

<!-- A special thanks to the fine folks who did:

    jquery
    bootstrap + glyphicons
    node.js

    And all the billions of libs and lines of code that I built
    this all on (I tried to cite everyone, let me know if I missed
    anything!)

-->


<meta charset="utf-8">
<title>PUCKasaurus Rex!</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="rawr!">

<!-- Le styles -->
<!-- <link href="/css/bootstrap.min.css" rel="stylesheet"> -->

<!-- made a one line change in this, noted at top -->
<link href="/css/bootstrap.css" rel="stylesheet">

<!-- for calls -->
<link href="/css/avgrund.css" rel="stylesheet">

<!-- trivial bits here -->
<link href="/css/puck.css" rel="stylesheet">

<!-- form to add files -->
<link href="/css/jquery.filer.css" rel="stylesheet">

<!-- a few more icons -->
<link href="/css/whhg.css" rel="stylesheet">

<!-- nav menus -->
<link href="/css/yamm.css" rel="stylesheet">

<!-- css animation -->
<link href="/css/animate.css" rel="stylesheet">

<!-- <link href="/css/bootstrap-responsive.css" rel="stylesheet"> -->

<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
  <script src="/js/html5shiv.js"></script>
<![endif]-->

<!-- for pucks -->
<!-- http://cube3x.com/adipoli-jquery-image-hover-plugin/ -->
<!-- <link href="/css/adipoli.css" rel="stylesheet" type="text/css"/> -->


</head>

<body>

    <div class="container">

        <nav class="navbar navbar-default zenlarge" role="navigation">

            <ul class="nav nav-tabs navbar-nav navbar-left">

                <li class="active"><a href="#home" data-toggle="tab"><span id="puck_top_home" title="home" data-content="Click your heels three times..." class="glyphicon glyphicon-home"></span></a></li>

                <!-- need to find/make a good sheep icon! -->
                <!-- <li> <a href="#profile" data-toggle="tab"><img style="margin-top:20px" id="puck_top_ewe" title="Enough about me, let's talk about Ewe!" src="images/sheep.png"></a></li> -->

                <li> <a href="#ewe" data-toggle="tab"><span id="puck_top_ewe" title="You!" data-content="Enough about me, let's talk about Ewe!" class="glyphicon glyphicon-user"></span></a></li>

                <li class="dropdown">

                    <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span id="puck_top_love" title="Love -n- Trust" data-content="Loves, friends, enemies, PUCKs...." class="glyphicon glyphicon-heart"></span><b class="caret"></b></a>

                    <ul class="dropdown-menu">
                        
                        <li> <a tabindex="-1" data-toggle="tab" href="#puck_trust_generate"> Generate Authentication Tokens</a> </li>
                        <li> <a tabindex="-1" data-toggle="tab" href="#puck_trust_explore"> Creating and seeing who you trust</a> </li>
                        <li> <a tabindex="-1" data-toggle="tab" href="#puck_trust_you"> Who trusts your PUCK?</a> </li>

                    </ul>
                </li>

                <li> <a href="#puck_cloud" data-toggle="tab"><span id="puck_top_cloud" title="File Vault" data-content="Files-n-secret stuffz" class="glyphicon glyphicon-cloud"></span></a></li>

                <li> <a href="#messages" data-toggle="tab"><span id="puck_top_messages" title="Messages" data-content="Message center: notes, files, and events" class="glyphicon glyphicon-envelope"></span></a></li>
    
                <!-- <li> <a href="#puck_vpn" data-toggle="tab"><span id="puck_video" title="VPN" data-content="All the cool stuff - calls, chat, etc" class="glyphicon glyphicon-facetime-video"></span></a></li> -->
                <li> <a id="rtc_hack" href="" data-toggle="tab"><span id="puck_video" title="VPN" data-content="Video - new page!" class="glyphicon glyphicon-facetime-video"></span></a></li>

                </ul>

            <ul class="nav nav-tabs navbar-nav navbar-right">

                <li> <a href="#"><span class="green glyphicon icon-lightbulb-idea" id="puck_status"></span></a></li>

                <li> <a href="#socket_wrench" data-toggle="tab"><span id="socket_wrench" title="socketz" data-content="Web socket status - green good...." class="glyphicon icon-wrench"></span></a></li>

                <li> <a href="#"><span data-content="help, videos, etc. here..." class="glyphicon icon-question-sign" id="puck_help"></span></a></li>

                <li class="dropdown">

                    <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span id="puck_top_skull" title="Don't" data-content="PANIC!" class="glyphicon icon-skull"></span><b class="caret"></b></a>

                    <ul class="dropdown-menu" id="skull_menu">
                        
                        <li style="width:100%"> <button id="stop_server"     style="width:125px; text-align:center;" type="button" class="btn btn-info    btn-hover">Stop Server</button></a></li>
                        <li style="width:100%"> <button id="restart_server"  style="width:125px; text-align:center;" type="button" class="btn btn-warning btn-hover">Restart Server</button></a></li>
                        <li style="width:100%"> <button id="halt_vpn_client" style="width:125px; text-align:center;" type="button" class="btn btn-primary btn-hover">Die VPN, Die!</button></a></li>
                        <li style="width:100%"> <button id="puck_panic"      style="width:125px; text-align:center;" type="button" class="btn btn-danger  btn-hover">PANIC</button></a></li>
                        <li style="width:100%"> <a tabindex="-1" href="#skull" data-toggle="tab" style="width:125px; text-align:center;">Click2explain</a></li>

                    </ul>
                </li>

                <li> <a target="_blank" href="https://github.com/zenfish/PUCK"><span id="puck_git" title="github sources" data-content="Github, sources 'n' secretz here" class="glyphicon icon-github"></span></a></li>

            </ul>

        </nav>


        <div class="container-fluid">

            <!-- for incoming/outgoing calls -->

            <a href="#" id="incoming" class="button left"></a>
            <a href="#" id="outgoing" class="button left"></a>

            <form id="modalPuck" class="modal fade form-horizontal" tabindex="-1" role="diaglog" aria-labelledby="modalPuckLabel" aria-hidden="true" action='/form' method="POST">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
                            <h3 id="modalPuckLabel">Add PUCK</h3>
                        </div>
                        <div class="modal-body">
                            <fieldset>
                            <div class="control-group">
                                <label class="control-label" for="ip_addr">IP Address</label>
                                <div class="controls">
                                    <input type="text" id="ip_addr" name="ip_addr" placeholder="" maxlength="21" class="input-xlarge">
                                    <p class="help-block"></p>
                                </div>
                            </div>
                            <span> 
                                <input style="display:none" id="puck_action" name="puck_action" value="CREATE" />
                            </span>

                            <div class="control-group">
                                <div class="controls">
                                <!-- this does some javascript fu below to post the data and redirect back to this page -->
                                <button id="puck_button_create" class="btn btn-primary">Create</button>
                                </div>
                            </div>

                            </fieldset>
                        </div>

                    </div>
                </div>
            </form>

        </div> <!-- end of form/top stuff -->


        <div class="container-fluid tab-content">

        <!-- pucks -->
            <div class="tab-pane fade in active" id="home">
    
                <div class="row-fluid marketing" id="puck_friends">
                    <div class="muted">
                        <h3>Friends <a href="#modalPuck" role="button" class="btn btn-primary btn-xs" data-toggle="modal"><span class="glyphicon glyphicon-plus"></span></a></h3>
                    </div>
        
                    <!-- spinner when loading pucks -->
                    <div id="puck_loading" class="spinner">
                        <div class="double-bounce1"></div>
                        <div class="double-bounce2"></div>
                    </div>
    
                </div>
    
            </div>
    
            <!-- profile -->
            <div class="tab-pane fade" id="skull">
                <div class="row-fluid marketing" id="puck_panic_area">

                    <div class="muted">
                        <h3 style="clear:both">&iexcl;PANIC!</h3>
                    </div>

                    <div>

                    You just clicked....?

                        <p> Pushing these buttons is not for the faint of heart.
                        <ul>
                            <p> <li><strong>PANIC</strong> will crush your PUCK into uselessness.  Good if people are hammering at your door wanting its data or keys.  UI will no longer work.  Don't worry, it isn't implemented yet.</li>
                            <p> <li><strong>Stop server</strong> stops the PUCK server dead.  UI will no longer work until restarted!</li>
                            <p> <li><strong>Restart server</strong> does just that - the PUCK server restarts.  UI will no longer work until it finishes restarting.</li>
                            <p> <li><strong>Stop VPN client</strong> kills any VPN clients

                        </ul>
                    </div>

                    <p>

                    <div>
                        <button id="stop_server"     type="button" class="btn btn-info">Stop Server</button>
                        <button id="restart_server"  type="button" class="btn btn-warning">Restart Server</button>
                        <button id="halt_vpn_client" type="button" class="btn btn-primary">Die VPN, Die!</button>
                        <button id="puck_panic"      type="button" class="btn btn-danger">PANIC</button>
                    </div>
                </div>
            </div>

            <!-- profile -->
            <div class="tab-pane fade" id="ewe">

                <div class="container"> <div class="row">

                    <div class="col-xs-4">
                            <h3 style="clear:both">profilasaurus</h3>
                            Enough about you, what about me?<p>
                            Details about your PUCK and possibly you, if you wish.<p>
                            You'll be able to change your picture here, etc., etc.<p>
                    </div>

                    <div class="col-xs-2"> </div>

                    <div class="col-xs-4">
                        <h3>Browser WebRTC Health</h3>
                        <table id="puck_rtc_health_check" class="table table-condensed table-hover table-striped">
                        <tr> <th> Feature </th> <th> Support? </th> <th> Feature </th> <th> Support? </th> </tr>
                        </table>
                    </div>
                </div> 

                <div class="panel-group" id="puck_accordion">

                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" data-parent="#puck_accordion" href="#puck_base_details">PUCK details </a>
                            </h4>
                        </div>
                        <div id="puck_base_details" class="panel-collapse collapse in">
                            <div id="puck_basics" class="panel-body"> </div>
                        </div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" data-parent="#puck_accordion" href="#puck_vpn_details">PUCK VPN details </a>
                            </h4>
                        </div>
                        <div id="puck_vpn_details" class="panel-collapse collapse">
                            <div id="puck_vpn_basics" class="panel-body"> </div>
                        </div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" data-parent="#puck_accordion" href="#puck_vpn_client_details">PUCK VPN client details</a>
                            </h4>
                        </div>
                        <div id="puck_vpn_client_details" class="panel-collapse collapse">
                            <div id="puck_vpn_client_basics" class="panel-body"> </div>
                        </div>
                    </div>

                </div>  <!-- PUCK accordian -->
                </div>
            </div>  <!-- ewes -->

            <!-- vpn stuff -->

            <div class="tab-pane fade" id="puck_vpn">

                <div class="row">

                    <div class="muted"> <h3 style="clear:both">VPN-a-tude</h3> </div>

                    <div id="videos-container">... videos....</div>

                    <div><strong id="unique-token">#123456789</strong></div>

                    <table id="rooms-list" style="width: 100%;"></table>

                    <div id="videos-container"></div>
                    <div id="puck_vid_notes">... notes....</div>
                    <div id="puck_users">... users....</div>

                    <span>If connected to another PUCK and you don't see video... something is wrong!</span>
                    <button id="orson_wells" class="local" class="setup">Broadcast!</button>

                    <!-- <div class="col-md-4" style="clear:both">
                        <h4> remote </h4>
                        <span>If connected to another PUCK and you don't see video... something is wrong!</span>
                        <div style="width:300px" id="remote_videos"></div>
                    <input type="text" id="your-name" placeholder="your-name">
                    <button id="start-broadcasting" class="setup">Engage Transmissions</button> -->
                
                    <div class="col-md-2"></div>

                    <div class="col-md-4">

                        <div style="padding:10px">
                            <b>Cat Chat!</b> <span class="muted small">instant messaging, PUCK style</span><br />
                        </div>

                        <div>
                            <div style="width:300px">
                                <div id="conversation"></div>
                                <input class="meow" id="meow" style="width:200px;" />
                                <input type="button" class="datasend" id="datasend" value="send" />
                            </div>
                            <div id="cat_chat" class="content"></div>
                        </div>

                    </div> <!-- col-md-4 -->

                </div> <!-- row -->

                <div class="row">

                    <hr>

                    <div class="row" style="clear:both">
                        <div class="col-md-4">
                            <div id="local_video"></div>
                        </div>
                    </div>


                    <button id="setup-meeting">Setup Meeting</button>

                    <div class="container-fluid">

                        <div class="row">
                            <div class="col-md-6">
                                <button type="button" class="btn btn-default" data-toggle="collapse" data-target="#client_collapse">show/hide client logs</button>
                                <div id="client_collapse" class="collapse">
                                    
                                    <div id="ovpn_client_infinity" class="mCSB_container content">
                                        VPN client logs <hr> <!-- content -->
                                    </div>
                                </div>
                            </div>
                        </div> <!-- row -->


                        <div class="row">
                            <div class="col-md-6">
                                <button type="button" class="btn btn-default" data-toggle="collapse" data-target="#server_collapse">show/hide server logs</button>

                                <div id="server_collapse" class="collapse">
                                    <div id="ovpn_server_infinity" class="mCSB_container content">
                                        VPN server logs <hr> <!-- content --> 
                                    </div>
                                </div>

                            </div>
                        </div>  <!-- row -->
                    </div> <!-- container -->
                </div>  <!-- row -->
            </div> <!-- vpn stuff -->

            <!-- trust/love -->

            <div class="tab-pane fade" id="puck_trust_explore">
                <div class="row-fluid marketing">
                    <div class="muted">
                        <h3 style="clear:both">Who do you trust?</h3>
                    </div>
                    <div>
                        ...
                    </div>
                </div>
            </div>

            <div class="tab-pane fade" id="puck_trust_you">
                <div class="row-fluid marketing">
                    <div class="muted">
                        <h3 style="clear:both">Who trusts your PUCK?</h3>
                    </div>
                    <div>
                        ...
                    </div>
                </div>

            </div>

            <div class="tab-pane fade" id="puck_trust_generate">

                <h3 style="clear:both">Trusty!</h3>

                This is where you can create, choose, and see
                who you allow to come/go to/from your PUCK.
                Would you like to export:

                <p>

                <ul class="nav nav-tabs">
                    <li class="active"><a href="#puck_export" data-toggle="tab">Your PUCK data</a></li>
                    <li><a href="#puck_export_openvpn" data-toggle="tab">OpenVPN profile </a></li>
                    <li><a href="#puck_export_services" data-toggle="tab">Other services</a></li>
                </ul>

                        <!-- Tab panes -->
                <div class="tab-content">
                    <div class="tab-pane active" id="puck_export">
                        <p>
                        Other PUCKs may use the import feature (TBD :)) to 
                        import your PUCK's salient data.
                        <p>
                        Copy and paste the below and send it to a friendly PUCK owner.
                        <p>
                        This is essentially the same data what PUCKs
                        share when you add them in the UI by IP address.
                    </div>

                    <div class="tab-pane" id="puck_export_openvpn">
                        <p>
                        Other normal computers (e.g. non-PUCKs) who can
                        run OpenVPN will be able to use the below OVPN
                        profile to connect to your PUCK as an OpenVPN
                        client.

                        <p>
                        They must be able to connect to your PUCK server
                        from wherever they are coming from; in addition
                        only the "just make it work" security setting
                        allows OpenVPN connectivity from non-PUCKs by
                        default (higher security levels use a firewall
                        to block the VPN port until they a trusted PUCK
                        is trying to connect.)

                        <p>

                        Finally if your PUCK changes its IP address you'll
                        need to either generate a new profile or manually
                        change the IP address in the client.

                    </div>

                    <div class="tab-pane" id="puck_export_services">

                        <p>
                        You will also be able to stamp out PUCK slaves,
                        Laptop/generic computer/iOS/Android VPN
                        certificates so they can access the PUCK.

                        <p>

                        Finally there will be a set of capabilities;
                        you'll be able to assign them for everyone or for
                        specific individuals/computers.  Such capabilities
                        might give remote pucks the ability to:

                        <p>

                        <ul>
                        <li> incoming voice/SIP
                        <li> incoming Video/Sound
                        <li> incoming Drag-n-Drop files
                        <li> remote systems to surf as if they were at your PUCK's
                            physical location
                        <li> arbitrary network connections from your PUCK
                        <li> execute commands on your PUCK
                        <li> masquerade as your PUCK - essentially act on your
                            PUCK's behalf.  If Dan really trusts Charles,
                            Charles may initiate actions as though Dan's
                            PUCK was doing them.  This could cause long
                            chains of traffic/activity being passed
                            along, from PUCK A -&gt; B -&gt; C ... -&gt; N. Each
                            PUCK has to trust the PUCK attempting to
                            pass through it.
                        </ul>

                     </div> <!-- this tab pane -->

                </div> <!-- tab pane -->
    
            </div> <!-- tab pane -->

            <!-- message center -->
            <div class="tab-pane fade" id="puck_cloud">
                <div class="spacer30"></div>

                <div class="row">
                    <div class="col-md-6 column">
                        <div id="puck_cloud_filez"> 
                            <h3> What's in the vault? </h3>
                        </div>
                        <div class="row-fluid marketing">
                            <table id="puck_cloud_file_listing" class="table table-condensed table-hover table-striped">
                                <tr><td><strong> files </strong> </td></tr>
                            </table>
                        </div>
                    </div>
                    <div class="col-md-6 column">
                        <div id="puck_cloud_filez2"> 
                            <h3> Add to a vault </h3>
                            <small class="text-muted">When connected this will transfer to the remote system</small>
                            <br />
                        </div>
                        <div class="row-fluid marketing">
                            <form action="/up" method="post" enctype="multipart/form-data">
                                <input id="uppity" type="file" name="uppity" multiple="multiple" />
                            </form> 
                        </div>
                    </div>
                </div>
            </div>

            <!-- message center -->
            <div class="tab-pane fade" id="messages">
                <div class="spacer30"></div>
                <div id="event_messages"> 

                    Possible entries here include notices of missed calls, 
                    files that have been dropped off, rejected calls, 
                    typed missives, etc., etc.

                    <p>

                    For now simply a log of events... calls coming/going,
                    plus additions/deletions of PUCKs.

                </div>
             </div>
         </div> <!-- tab content -->

        <!-- spacer n feets below -->

        <div class="btn-toolbar"> <span></span></div>
        <div class="btn-toolbar"> <span class="spacer100"></span></div>

        <div class="footer" id="puck_footy">
            <p id='ip_diddy' class="text-muted credit">no electrons were harmed in the making of this footer</p>
        </div>

    </div>

<script type="text/javascript" src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript" src='/js/jquery-ui.1.9.2.min.js'></script>

<script type="text/javascript" src='/js/jquery.adipoli.min.js'></script>
<script type="text/javascript" src='/js/jquery.json-2.4.min.js'></script>
<script type="text/javascript" src='/js/jquery.inputmask.js'></script>
<script type="text/javascript" src='/js/jquery.blockUI.js'></script>
<script type="text/javascript" src='/js/jquery.avgrund.js'></script>
<script type="text/javascript" src="/js/jquery.bootstrap-growl.min.js"></script>
<script type="text/javascript" src="/js/jquery.filer.js"></script>
<script type="text/javascript" src="/js/jquery.mCustomScrollbar.concat.js"></script>

<script type="text/javascript" src='/js/bootstrap.js'></script>
<script type="text/javascript" src='/js/moustache.js'></script>
<script type="text/javascript" src="/js/underscore-min.js"></script>

<script type="text/javascript" src='/js/spin.js'></script>
<script type="text/javascript" src="/js/bootstrap-paginator.js"></script>

<!-- put a sock in it -->
<!-- <script type="text/javascript" src="/socket.io/socket.io.js"></script> -->
<script type="text/javascript" src="/js/sockjs.min.js"></script>
<script type="text/javascript" src="/js/sockjs_reconnect.min.js"></script>

<!-- the amazing rtc stuff -->
<!-- <script type="text/javascript" src="/js/PeerConnection.js"> -->

<script type="text/javascript" src="/js/puck.js"></script>
<script type="text/javascript" src="/js/main_puck.js"></script>

</body>

</html>

